# load aliases
if [ -f ~/.zsh/aliases ]; then source ~/.zsh/aliases; fi

# load functions
source ~/.zsh/functions/*

# set your editor
if [[ -f /usr/local/bin/nvim && -x /usr/local/bin/nvim ]]; then
	export EDITOR=/usr/local/bin/nvim
elif [[ -f /usr/bin/nvim && -x /usr/bin/nvim ]]; then
	export EDITOR=/usr/bin/nvim
else
	export EDITOR=/usr/bin/vim
fi;

# used by git-latexdiff
export PDFVIEWER=/Applications/Skim.app/Contents/MacOS/Skim

# ensure HTML Tidy uses your configuration file
export HTML_TIDY=$HOME/.tidyrc

# Settings for Go Programming
# http://stackoverflow.com/questions/12843063/install-go-with-brew-and-running-the-gotour
#export GOVERSION="1.1.2"
#export GOROOT=$(brew --prefix)/Cellar/go/$GOVERSION
#export GOPATH=$(brew --prefix)/Cellar/go/$GOVERSION/bin:$HOME/src/go
export GOPATH=$HOME/src/go
export GOBIN=$HOME/src/go/bin

# ensure go binaries are in your path
export PATH="$GOBIN:$PATH"

# ensure Homebrew is in your PATH
export PATH="/usr/local/bin:/usr/local/sbin:/usr/local/lib:$PATH"

# sqlite3
export PATH="/usr/local/opt/sqlite/bin:$PATH"

# curl, commented out because I'm not sure I need it
# export PATH="/usr/local/opt/curl/bin:$PATH"

# ensure python refers to python2 rather than python3
export PATH="$HOME/python-bin:$PATH"

[[ -d $HOME/Library/Python/3.7/bin ]] && export PATH="$HOME/Library/Python/3.7/bin:$PATH"

# colorized man pages
man () {
LESS_TERMCAP_mb=$'\e'"[1;31m" \
LESS_TERMCAP_md=$'\e'"[1;31m" \
LESS_TERMCAP_me=$'\e'"[0m" \
LESS_TERMCAP_se=$'\e'"[0m" \
LESS_TERMCAP_so=$'\e'"[1;44;33m" \
LESS_TERMCAP_ue=$'\e'"[0m" \
LESS_TERMCAP_us=$'\e'"[1;32m" \
command man "$@"
}
# export MANPAGER="env MAN_PN=1 /usr/local/bin/vim -u NONE -N -M +MANPAGER -"

# Avoid unnecessary paging in git
export GIT_PAGER="less -FRXK"

# Source completions for git-extras
if [[ -f /usr/local/opt/git-extras/share/git-extras/git-extras-completion.zsh ]]; then
  source /usr/local/opt/git-extras/share/git-extras/git-extras-completion.zsh
fi

# rbenv configuration
# NOTE: we need this to appear after homebrew, python, etc...
export RBENV_ROOT=/usr/local/opt/rbenv
if command -v rbenv > /dev/null; then
  eval "$(rbenv init -)"
fi

# TODO: Convert these to functions?
source $HOME/.zsh/always/se-aliases/se-aliases.sh

if [ -f $HOME/perl5/perlbrew/etc/bashrc ]; then source $HOME/perl5/perlbrew/etc/bashrc; fi

# load rust settings
if [ -d $HOME/.cargo ] && [ -f $HOME/.cargo/env ]; then source $HOME/.cargo/env; fi

# load private configuration
if [ -d $HOME/.private ]; then source ~/.private/*; fi

# use a custom setting for the rupa/z plugin
export _Z_DATA=$HOME/.zsh/z

